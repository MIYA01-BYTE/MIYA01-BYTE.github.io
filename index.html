<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>哪吒2抽奖游戏</title>
    <style>
        /* 基础样式 */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body { 
            background-image: url('nazha.jpg');  
            background-size: cover; 
            background-position: center;
            background-repeat: no-repeat; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            min-height: 100vh; 
            padding: 20px;
        } 

        /* 标题样式 */
        .game-title {
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            font-size: 2.5rem;
            margin: 20px 0;
            text-align: center;
            background: rgba(0,0,0,0.3);
            padding: 10px 20px;
            border-radius: 10px;
        }
        
        .game-container { 
            width: 100%;
            max-width: 800px;
            margin-top: auto;
            margin-bottom: auto;
        } 
        
        .card-list { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 15px;
            justify-content: center;
        } 
        
        .card { 
            position: relative; 
            width: 100%;
            padding-bottom: 150%;
            perspective: 1000px; 
            cursor: pointer; 
        } 
        
        .card-front,
        .card-back { 
            position: absolute; 
            width: 100%; 
            height: 100%; 
            backface-visibility: hidden; 
            transition: transform 0.6s; 
            border-radius: 10px;
            overflow: hidden;
        } 
        
        .card-front { 
            transform: rotateY(0deg); 
        } 
        
        .card-front img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        } 
        
        .card-back { 
            background: rgba(240, 240, 240, 0.95);
            display: flex; 
            justify-content: center; 
            align-items: center; 
            transform: rotateY(180deg); 
            padding: 15px;
            font-size: 1.2rem;
            text-align: center;
            line-height: 1.4;
            border: 2px solid #ff6b6b;
        } 
        
        .card.flipped .card-front { 
            transform: rotateY(180deg); 
        } 
        
        .card.flipped .card-back { 
            transform: rotateY(0deg); 
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .game-title {
                font-size: 2rem;
                margin: 15px 0;
            }
            .card-list {
                grid-template-columns: repeat(3, 1fr);
                gap: 12px;
            }
            .card-back {
                font-size: 1rem;
                padding: 10px;
            }
        }

        @media (max-width: 480px) {
            .game-title {
                font-size: 1.5rem;
                padding: 8px 15px;
            }
            .card-list {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            .card-back {
                font-size: 0.9rem;
                padding: 8px;
            }
            body {
                padding: 10px;
            }
        }

        @media (min-width: 1200px) {
            .game-container {
                max-width: 1000px;
            }
            .card-back {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <audio id="bgMusic" loop>
        <source src="bgy.mp3" type="audio/mpeg">
        <source src="bgy.ogg" type="audio/ogg">
        <source src="bgy.wav" type="audio/wav">
        你的浏览器不支持音频播放。
    </audio>

    <h1 class="game-title">哪吒2抽奖游戏</h1>
    
    <div class="game-container">
        <div class="card-list">
            <!-- 卡片列表 -->
            <div class="card" data-content="免作业卡">
                <div class="card-front"><img src="哪吒.jpg" alt="哪吒"></div>
                <div class="card-back">免作业卡</div>
            </div>
            <div class="card" data-content="抽奖的人唱一首歌">
                <div class="card-front"><img src="敖丙.jpg" alt="敖丙"></div>
                <div class="card-back">抽奖的人唱一首歌</div>
            </div>
            <div class="card" data-content="老师跳个舞">
                <div class="card-front"><img src="敖光.jpg" alt="敖光"></div>
                <div class="card-back">老师跳个舞</div>
            </div>
            <div class="card" data-content="空奖">
                <div class="card-front"><img src="敖闰.jpg" alt="敖闰"></div>
                <div class="card-back">空奖</div>
            </div>
            <div class="card" data-content="一支漂亮的笔">
                <div class="card-front"><img src="李靖.jpg" alt="李靖"></div>
                <div class="card-back">一支漂亮的笔</div>
            </div>
            <div class="card" data-content="一根棒棒糖">
                <div class="card-front"><img src="殷夫人.jpg" alt="殷夫人"></div>
                <div class="card-back">一根棒棒糖</div>
            </div>
            <div class="card" data-content="老师给你个大拥抱">
                <div class="card-front"><img src="申小豹.jpg" alt="申小豹"></div>
                <div class="card-back">老师给你个大拥抱</div>
            </div>
            <div class="card" data-content="点别的同学唱歌">
                <div class="card-front"><img src="申公豹.jpg" alt="申公豹"></div>
                <div class="card-back">点别的同学唱歌</div>
            </div>
        </div>
    </div>

    <script>
        (function() {
            // 自动播放处理
            const audio = document.getElementById('bgMusic');
            let audioPlayed = false;

            // 首次自动播放尝试
            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.catch(() => {
                    // 自动播放被阻止时，在用户首次交互时自动播放
                    const handleFirstInteraction = () => {
                        audio.play();
                        document.removeEventListener('click', handleFirstInteraction);
                        document.removeEventListener('touchstart', handleFirstInteraction);
                    };
                    document.addEventListener('click', handleFirstInteraction);
                    document.addEventListener('touchstart', handleFirstInteraction);
                });
            }

            // 卡片点击逻辑
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('click', () => {
                    if (!card.classList.contains('flipped')) {
                        card.classList.add('flipped');
                    }
                    // 触发音频播放（针对部分浏览器）
                    if (!audioPlayed) {
                        audio.play();
                        audioPlayed = true;
                    }
                });
            });

            // 移动端优化
            document.addEventListener('touchstart', function(e) {
                e.preventDefault();
            }, { passive: false });
        })();
    </script>
</body>
</html>